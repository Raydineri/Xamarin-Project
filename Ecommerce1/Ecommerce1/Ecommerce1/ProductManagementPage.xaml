<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Ecommerce1.ProductManagementPage"
             Title="Product Management">
    <ScrollView>
        <StackLayout Padding="20" Spacing="15">
            <!-- Title -->
            <Label Text="Product Management" FontSize="Large" FontAttributes="Bold" HorizontalOptions="Center" Padding="0,10" />

            <!-- ID Entry -->
            <Frame CornerRadius="15" BackgroundColor="#F9F9F9" Padding="10" HasShadow="True" BorderColor="#E0E0E0">
                <Entry x:Name="IdEntry" Placeholder="Product ID" IsEnabled="False" TextColor="#333" FontSize="Medium"/>
            </Frame>

            <!-- Name Entry -->
            <Frame CornerRadius="15" BackgroundColor="#F9F9F9" Padding="10" HasShadow="True" BorderColor="#E0E0E0">
                <Entry x:Name="NameEntry" Placeholder="Product Name" TextColor="#333" FontSize="Medium" />
            </Frame>

            <!-- Description Entry -->
            <Frame CornerRadius="15" BackgroundColor="#F9F9F9" Padding="10" HasShadow="True" BorderColor="#E0E0E0">
                <Entry x:Name="DescriptionEntry" Placeholder="Description" TextColor="#333" FontSize="Medium" />
            </Frame>

            <!-- Price Entry -->
            <Frame CornerRadius="15" BackgroundColor="#F9F9F9" Padding="10" HasShadow="True" BorderColor="#E0E0E0">
                <Entry x:Name="PriceEntry" Placeholder="Price" Keyboard="Numeric" TextColor="#333" FontSize="Medium" />
            </Frame>

            <!-- Quantity Entry -->
            <Frame CornerRadius="15" BackgroundColor="#F9F9F9" Padding="10" HasShadow="True" BorderColor="#E0E0E0">
                <Entry x:Name="QuantityEntry" Placeholder="Quantity" Keyboard="Numeric" TextColor="#333" FontSize="Medium" />
            </Frame>

            <!-- Image URL Entry -->
            <Frame CornerRadius="15" BackgroundColor="#F9F9F9" Padding="10" HasShadow="True" BorderColor="#E0E0E0">
                <Entry x:Name="ImageEntry" Placeholder="Image URL" TextColor="#333" FontSize="Medium" />
            </Frame>

            <!-- Category Entry -->
            <Frame CornerRadius="15" BackgroundColor="#F9F9F9" Padding="10" HasShadow="True" BorderColor="#E0E0E0">
                <Entry x:Name="CategoryEntry" Placeholder="Category" TextColor="#333" FontSize="Medium" />
            </Frame>
            <!-- Buttons -->
            <Button Text="Add Product" 
                    Clicked="OnAddProductClicked" 
                    BackgroundColor="Green" 
                    TextColor="White" 
                    CornerRadius="15" 
                    Margin="0,10,0,0" />

            <Button Text="Update Product" 
                    Clicked="OnUpdateProductClicked" 
                    BackgroundColor="Blue" 
                    TextColor="White" 
                    CornerRadius="15" 
                    Margin="0,10,0,0" />

            <Button Text="Delete Product" 
                    Clicked="OnDeleteProductClicked" 
                    BackgroundColor="Red" 
                    TextColor="White" 
                    CornerRadius="15" 
                    Margin="0,10,0,0" />

            <!-- Product List -->
            <ListView x:Name="ProductList" ItemsSource="{Binding Products}" ItemSelected="OnProductSelected" SeparatorVisibility="Default">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <ViewCell>
                            <Frame Padding="15" Margin="5" CornerRadius="10" BackgroundColor="#FFFFFF" HasShadow="True">
                                <StackLayout>
                                    <!-- Product Name -->
                                    <Label Text="{Binding Name}" FontAttributes="Italic" FontSize="Small" HorizontalOptions="Center" Margin="0,2" />

                                    <!-- Product Image -->
                                    <Image Source="{Binding Image}" HeightRequest="100" WidthRequest="100" Aspect="AspectFill" HorizontalOptions="Center" Margin="0,10" />

                                    <!-- Product Description -->
                                    <Label Text="{Binding Description}" LineBreakMode="TailTruncation" FontSize="Small" HorizontalOptions="Center" />

                                    <!-- Product Details using Grid -->
                                    <Grid Padding="5" ColumnSpacing="10" RowSpacing="5">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>

                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <!-- Price -->
                                        <Label Text="Price:" VerticalOptions="Center" HorizontalOptions="Start" />
                                        <Label Text="{Binding Price, StringFormat='Price: {0:C}'}" VerticalOptions="Center" HorizontalOptions="Start" Grid.Column="1" />

                                        <!-- Quantity -->
                                        <Label Text="Qty:" VerticalOptions="Center" HorizontalOptions="Start" />
                                        <Label Text="{Binding Quantity, StringFormat='Qty: {0}'}" VerticalOptions="Center" HorizontalOptions="Start" Grid.Column="1" />

                                        <!-- Category -->
                                        <Label Text="Category:" VerticalOptions="Center" HorizontalOptions="Start" />
                                        <Label Text="{Binding Category}" VerticalOptions="Center" HorizontalOptions="Start" Grid.Column="1" />
                                    </Grid>
                                </StackLayout>
                            </Frame>
                        </ViewCell>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </StackLayout>
    </ScrollView>
</ContentPage>
