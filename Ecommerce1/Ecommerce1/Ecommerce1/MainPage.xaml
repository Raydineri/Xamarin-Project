<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Ecommerce1.MainPage">

    <!-- Toolbar with Cart Icon -->
    <ContentPage.ToolbarItems>
        <ToolbarItem Text="Cart" 
                     IconImageSource="panier_icon.jpg" 
                     Clicked="OpenCart_Clicked" />
    </ContentPage.ToolbarItems>

    <ContentPage.Content>
        <CollectionView x:Name="ProductsListView" ItemsSource="{Binding Products}">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame Padding="10" Margin="10" CornerRadius="15" HasShadow="true" BackgroundColor="White">
                        <StackLayout Spacing="10">
                            <!-- Product Image -->
                            <Image Source="{Binding Image}" HeightRequest="200" Aspect="AspectFill" />

                            <!-- Product Name -->
                            <Label Text="{Binding Name}" 
                                   FontAttributes="Bold" 
                                   FontSize="18" 
                                   TextColor="Black" 
                                   HorizontalOptions="Center" />

                            <!-- Product Price -->
                            <Label Text="{Binding Price, StringFormat='${0:F2}'}" 
                                   FontSize="16" 
                                   TextColor="Green" 
                                   HorizontalOptions="Center" />

                            <!-- Product Description -->
                            <Label Text="{Binding Description}" 
                                   FontSize="14" 
                                   TextColor="Gray" 
                                   LineBreakMode="TailTruncation" 
                                   MaxLines="2" 
                                   HorizontalOptions="Center" />

                            <!-- Add to Cart Button -->
                            <Frame CornerRadius="20" HeightRequest="50" WidthRequest="50" HasShadow="False">
                                <Button Text="+"
                                        Clicked="AddToCart_Clicked"
                                        BackgroundColor="Blue" 
                                        TextColor="White"
                                        CornerRadius="20" />
                            </Frame>
                        </StackLayout>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </ContentPage.Content>
</ContentPage>
